<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Red Letters</title>
    <style>
      /* ── Red Letters Design Tokens ── */
      :root {
        /* Surface hierarchy (3-layer: app < panel < card) */
        --rl-bg-app: #12121f;
        --rl-bg-panel: #1a1a2e;
        --rl-bg-card: #242440;
        --rl-bg-hover: #2d2d50;

        /* Borders */
        --rl-border: #2f2f4a;
        --rl-border-strong: #3d3d5c;
        --rl-border-subtle: rgba(255, 255, 255, 0.04);

        /* Text hierarchy */
        --rl-text: #e8e8f0;
        --rl-text-muted: #9ca3af;
        --rl-text-dim: #6b7280;

        /* Brand accent (ember red) */
        --rl-accent: #d4513b;
        --rl-accent-hover: #c0402e;
        --rl-accent-subtle: rgba(212, 81, 59, 0.12);

        /* Blue action (secondary) */
        --rl-primary: #3b82f6;
        --rl-primary-hover: #2563eb;

        /* Semantic status */
        --rl-success: #22c55e;
        --rl-warning: #f59e0b;
        --rl-error: #ef4444;

        /* Typography */
        --rl-font-ui: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        --rl-font-reading: 'Georgia', 'Cambria', 'Times New Roman', serif;
        --rl-font-mono: 'SF Mono', 'Fira Code', 'Consolas', monospace;
        --rl-font-greek: 'SBL Greek', 'Cardo', 'Gentium Plus', serif;
        --rl-fs-xs: 0.6875rem;
        --rl-fs-sm: 0.75rem;
        --rl-fs-base: 0.875rem;
        --rl-fs-md: 1rem;
        --rl-fs-lg: 1.25rem;
        --rl-fs-xl: 1.5rem;

        /* Radius */
        --rl-radius-sm: 4px;
        --rl-radius-md: 6px;
        --rl-radius-lg: 8px;
        --rl-radius-xl: 12px;

        /* Spacing (4px base) */
        --rl-space-1: 4px;
        --rl-space-2: 8px;
        --rl-space-3: 12px;
        --rl-space-4: 16px;
        --rl-space-5: 20px;
        --rl-space-6: 24px;
        --rl-space-8: 32px;

        /* Shadows (elevated for dark theme visibility) */
        --rl-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.4);
        --rl-shadow-md: 0 4px 16px rgba(0, 0, 0, 0.55);
        --rl-shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.65);
        --rl-shadow-glow: 0 0 24px rgba(212, 81, 59, 0.08);

        /* Line-height scale */
        --rl-lh-tight: 1.2;
        --rl-lh-normal: 1.5;
        --rl-lh-relaxed: 1.65;

        /* Transitions */
        --rl-transition-fast: 120ms ease;
        --rl-transition-normal: 180ms ease;
      }

      @media (prefers-reduced-motion: reduce) {
        :root {
          --rl-transition-fast: 0ms;
          --rl-transition-normal: 0ms;
        }
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      /* Typography rhythm */
      h1 {
        font-size: var(--rl-fs-xl);
        font-weight: 700;
        line-height: var(--rl-lh-tight);
        letter-spacing: -0.01em;
      }
      h2 {
        font-size: var(--rl-fs-md);
        font-weight: 600;
        line-height: var(--rl-lh-tight);
        letter-spacing: -0.005em;
      }
      h3 {
        font-size: var(--rl-fs-base);
        font-weight: 600;
        line-height: var(--rl-lh-tight);
      }
      p, span, div {
        line-height: var(--rl-lh-normal);
      }
      /* Focus rings — keyboard accessibility */
      button:focus-visible,
      a:focus-visible,
      input:focus-visible,
      select:focus-visible,
      [tabindex]:focus-visible {
        outline: 2px solid var(--rl-primary);
        outline-offset: 2px;
      }
      /* Button base reset */
      button {
        font-family: inherit;
        font-size: var(--rl-fs-base);
        border-radius: var(--rl-radius-sm);
        transition: background-color var(--rl-transition-fast), box-shadow var(--rl-transition-fast);
      }
      body {
        font-family: var(--rl-font-ui);
        background-color: var(--rl-bg-app);
        background-image:
          radial-gradient(ellipse 90% 50% at 50% 105%, rgba(212, 81, 59, 0.13) 0%, transparent 55%),
          radial-gradient(ellipse 60% 50% at 90% 5%, rgba(59, 130, 246, 0.07) 0%, transparent 45%);
        background-attachment: fixed;
        color: var(--rl-text);
        min-height: 100vh;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script>
      // Auto-configure auth token from URL hash (runs before React)
      // URL format: http://localhost:5173/#token=rl_xxx
      (function() {
        var hash = window.location.hash;
        if (hash && hash.indexOf('#token=') === 0) {
          var token = hash.substring(7);
          if (token && token.indexOf('rl_') === 0) {
            console.log('[RedLetters] Auto-configuring token from URL');
            localStorage.setItem('redletters_auth_token', token);
            // Clear hash from URL
            history.replaceState(null, '', window.location.pathname);
          }
        }
      })();
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
